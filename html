<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Rezepte</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 1rem;
      background: #fff;
    }
    h1 {
      font-size: 1.2rem;
      color: #333;
    }
    select, pre {
      font-size: 1rem;
      padding: 0.5rem;
      margin-top: 1rem;
      width: 90%;
      max-width: 400px;
    }
    pre {
      background: #f4f4f4;
      padding: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>Herstellungsprozess anzeigen</h1>
  <label for="itemSelect">Item auswählen:</label><br />
  <select id="itemSelect" onchange="showProcess()">
    <option value="">-- auswählen --</option>
  </select>
  <pre id="output"></pre>

  <script>
    const recipes = {
      "Holzbett": {
        "Zutaten": {
          "Holzbrett": 4,
          "Nagel": 10
        }
      },
      "Holzbrett": {
        "Zutaten": {
          "Holz": 2
        }
      },
      "Nagel": {
        "Zutaten": {
          "Eisen": 1
        }
      },
      "Holz": { "Zutaten": {} },
      "Eisen": { "Zutaten": {} }
    };

    const select = document.getElementById("itemSelect");
    const output = document.getElementById("output");

    for (let item in recipes) {
      const option = document.createElement("option");
      option.value = item;
      option.textContent = item;
      select.appendChild(option);
    }

    function getFullRecipe(item, depth = 0) {
      if (!recipes[item]) return " ".repeat(depth * 2) + item + " (unbekannt)\n";
      let result = " ".repeat(depth * 2) + `${item}\n`;
      const zutaten = recipes[item].Zutaten;
      for (let zutat in zutaten) {
        result += " ".repeat(depth * 2 + 2) + `⤷ ${zutaten[zutat]}x ${zutat}\n`;
        result += getFullRecipe(zutat, depth + 2);
      }
      return result;
    }

    function showProcess() {
      const selected = select.value;
      output.textContent = selected ? getFullRecipe(selected) : "";
    }
  </script>
</body>
</html>
